import time
from concurrent.futures import ThreadPoolExecutor
from concurrent.futures import ProcessPoolExecutor


def gcd(pair):
    a, b = pair
    low = min(a, b)
    for i in range(low, 0, -1):
        if a % i == 0 and b % i == 0:
            return i
    assert False, "Not reachable"


NUMBERS = [
    (1963309, 2265973), (2030677, 3814172),
    (1551645, 2039045), (2296354, 7984512),
    (2423446, 5756876), (4879877, 1324235),
    (2342546, 8775868), (9879878, 4546454),
    (1963309, 2265973), (2030677, 3814172),
    (1551645, 2039045), (2296354, 7984512),
    (2423446, 5756876), (4879877, 1324235),
    (2342546, 8775868), (9879878, 4546454),
    (1963309, 2265973), (2030677, 3814172),
    (1551645, 2039045), (2296354, 7984512),
    (2423446, 5756876), (4879877, 1324235),
    (2342546, 8775868), (9879878, 4546454),
    (1963309, 2265973), (2030677, 3814172),
    (1551645, 2039045), (2296354, 7984512),
    (2423446, 5756876), (4879877, 1324235),
    (2342546, 8775868), (9879878, 4546454),
    (1963309, 2265973), (2030677, 3814172),
    (1551645, 2039045), (2296354, 7984512),
    (2423446, 5756876), (4879877, 1324235),
    (2342546, 8775868), (9879878, 4546454),
    (1963309, 2265973), (2030677, 3814172),
    (1551645, 2039045), (2296354, 7984512),
    (2423446, 5756876), (4879877, 1324235),
    (2342546, 8775868), (9879878, 4546454),
    (1963309, 2265973), (2030677, 3814172),
    (1551645, 2039045), (2296354, 7984512),
    (2423446, 5756876), (4879877, 1324235),
    (2342546, 8775868), (9879878, 4546454),
    (1963309, 2265973), (2030677, 3814172),
    (1551645, 2039045), (2296354, 7984512),
    (2423446, 5756876), (4879877, 1324235),
    (2342546, 8775868), (9879878, 4546454),
]


if __name__ == '__main__':
    start = time.time()
    pool = ProcessPoolExecutor()
    result = list(pool.map(gcd, NUMBERS))
    end = time.time()
    print(f"took {end - start:.3f} seconds")
    print(result)
